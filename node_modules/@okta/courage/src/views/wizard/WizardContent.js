define([
  'shared/views/BaseView',
  'shared/views/forms/BaseForm'
],
function (BaseView, BaseForm) {

  return BaseView.extend({
    wizardStateEvents: {
      'change:step': 'render'
    },
    preRender: function () {
      this.removeChildren();
      var View,
          currentStep = this.options.wizardState.getCurrentStep();
      if (currentStep.form) {
        View = BaseForm.extend(currentStep.form);
      }
      else {
        View = currentStep.view;
      }
      this.add(View, {
        options: {
          noButtonBar: true,
          saveOnEnter: false
        }
      });
    },
    className: 'margin-5'
  });

});
