define([
  'shared/views/BaseView',
  'shared/util/TemplateUtil',
  'shared/util/StringUtil',
  'shared/util/SchemaUtil'
], function (BaseView, TemplateUtil, StringUtil, SchemaUtil) {

  return BaseView.extend({

    tagName: 'p',

    className: 'o-form-explain',

    template: TemplateUtil.tpl('\
      <a href="#" class="reset-mapping">{{explain}}</a>\
    '),

    renderTemplate: function (template) {
      var explainText,
          appLabel = this.model.get('label');
      switch (this.options.field) {
      case SchemaUtil.USERNAMETYPE.APP_TO_OKTA:
        explainText = StringUtil.localize('universal-directory.mappings.username.appToOkta.explain');
        break;
      case SchemaUtil.USERNAMETYPE.OKTA_TO_AD:
        explainText = StringUtil.localize(
          'universal-directory.mappings.username.oktaToAd.explain', 'messages', [appLabel]);
        break;
      case SchemaUtil.USERNAMETYPE.OKTA_TO_APP:
        explainText = StringUtil.localize(
          'universal-directory.mappings.username.oktaToApp.explain', 'messages', [appLabel]);
        break;
      }
      return template({explain: explainText});
    }
  });
});
