define([
  'okta/underscore',
  'shared/views/BaseView'
],
function (_, BaseView) {

  return BaseView.extend({
    tagName: 'li',
    className: 'ui-state-default ui-corner-top',
    attributes: {
      role: 'tab'
    },

    template: '<a class="ui-tabs-anchor" role="presentation" href="{{route}}">{{label}}</a>',

    events: {
      'click a': function (e) {
        e.preventDefault();
        e.stopPropagation();
        this.router.navigate(this.route, {trigger: true});
      }
    },

    initialize: function () {
      _.extend(this, _.pick(this.options, 'route', 'router', 'method'));
      this.listenTo(this.router, 'route', this.toggle);
    },

    toggle: function (method) {
      this.$el.toggleClass('ui-state-active ui-tabs-selected', method == this.method);
    }

  });

});
