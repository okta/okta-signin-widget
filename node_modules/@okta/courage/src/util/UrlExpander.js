define([
  'underscore'
], function (_) {

  var UrlExpander = function (options) {
    this.expand = {};
    this.add(options);
  };

  _.extend(UrlExpander.prototype, {

    add: function (options) {
      if (_.isArray(options)) {
        _.each(options, function (option) {
          this.expand[option] = true;
        }, this);
      } else if (options) {
        this.expand[options] = true;
      }

      return this; //for chaining
    },

    toString: function () {
      if (_.isEmpty(this.expand)) {
        return '';
      }
      return _.keys(this.expand).join(',');
    }

  });

  return UrlExpander;

});
