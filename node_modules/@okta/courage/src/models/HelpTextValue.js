define([
  'underscore',
  'shared/models/Model',
  'shared/models/BaseCollection'
],
function (
  _,
  Model,
  BaseCollection
) {

  var HelpTextValue = Model.extend({
    props: {
      'helpTextType': ['string', true, 'USER_MANAGEMENT_SETUP'],
      'markdown': 'string',
      'html': 'string'
    }
  });

  var HelpTextValues = BaseCollection.extend({
    model: HelpTextValue,

    getMissingHelpTextTypes: function () {
      var supportedTypes = ['USER_MANAGEMENT_SETUP'];
      var existingTypes = [];
      this.each(function (model) {
        existingTypes.push(model.get('helpTextType'));
      });
      return _.difference(supportedTypes, existingTypes);
    }
  });

  return {
    Model: HelpTextValue,
    Collection: HelpTextValues
  };
});
