define([
  'shared/models/BaseCollection',
  'shared/models/BaseModel',
  'shared/models/CustomProperty'
], function (BaseCollection, BaseModel, CustomProperty) {

  var CustomType = BaseModel.extend({
    defaults: function () {
      return {
        internalName: null,
        name: null,
        className: null,
        displayField: null,
        label: null,
        labelPlural: null,
        properties: new CustomProperty.Collection()
      };
    },

    parse: function (resp) {
      resp.properties = new CustomProperty.Collection(resp.properties);
      return resp;
    }
  });

  var CustomTypes = BaseCollection.extend({
    model: function (attrs, options) {
      options.parse = true;
      return new CustomType(attrs, options);
    }
  });

  return {
    Model: CustomType,
    Collection: CustomTypes
  };
});