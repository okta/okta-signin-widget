#!/usr/bin/env node

/* eslint no-console:0 */
'use strict';

// Using process.cwd to look up appRoot because we are modifying the caller's
// package.json, not our own.
var pkg = require(process.cwd() + '/package.json');

var program = require('commander'),
    fn      = require('../lib/fn')(pkg);

program
  .usage('--target <target>')
  .option('-t, --target <target>', 'Name of pkginfo task to run')
  .parse(process.argv);

switch(program.target) {
  case 'fullversion':
    console.log(fn.fullversion());
    break;
  case 'dataload':
    console.log(fn.dataload());
    break;
  case 'pkgsemver':
    console.log(fn.pkgsemver());
    break;
  case 'pkgname':
    console.log(fn.pkgname());
    break;
  default:
    console.error('Target is empty or not supported');
    process.exit(1);
}
