<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Okta Sign-in Widget Playground</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/css/okta-sign-in.css" type="text/css" rel="stylesheet" />
    <link href="/css/okta-plugin-a11y.css" type="text/css" rel="stylesheet" />
    <link href="/css/fonts.css" type="text/css" rel="stylesheet" />
    <link href="/hooks/css/customize.css" type="text/css" rel="stylesheet" />
  </head>
  
  <body>
    <div id="signin-container"></div>
    <script nonce="playground">
      // Set up DateTimeFormat proxy
      const DateTimeFormatProxy = new Proxy(Intl.DateTimeFormat, {
        construct(target, args) {
          console.log('DateTimeFormat constructor called with args:', args);
          const instance = new target(...args);
          
          // Proxy the format method
          return new Proxy(instance, {
            get(target, prop) {
              if (prop === 'format') {
                return function(...formatArgs) {
                  console.log('DateTimeFormat format called with:', formatArgs);
                  return target.format(...formatArgs);
                };
              }
              return Reflect.get(target, prop);
            }
          });
        }
      });

      // Replace the global Intl.DateTimeFormat with our proxy
      window.Intl.DateTimeFormat = DateTimeFormatProxy;

      console.log('proxied Intl', Intl)
      // debug log
      // console.log(new Intl.DateTimeFormat())
    </script>
    <script src="/js/okta-sign-in.debugger.min.js"></script>
    <!-- <script nonce="playground">
      window.OktaSignInDebug.init({
        cspNonce: 'playground'
      });
    </script> -->
    <script src="/runtime.js"></script>
    <script src="/js/okta-sign-in.js"></script>
    <script src="/js/okta-plugin-a11y.js"></script>
    <script src="/playground.bundle.js"></script>
  </body>
</html>
